\documentclass{article}
\usepackage{lipsum}
\setlength{\parindent}{3ex}
\setlength{\parskip}{1em}

\usepackage[utf8]{inputenc}
\usepackage[T2A]{fontenc}
\usepackage[english, russian]{babel}

%\usepackage{indentfirst}

%\setlength{\parindent}{5ex}

\begin{document}

\date{27 ноября 2017}

\title{Тензорная следящая система}
\author{Сорокин Н.Ф.}

\maketitle
\newpage

\section{Введение.}

В настоящее время бурное развитие получили робототехнические системы, манипуляторы, позиционеры, станки ЧПУ, выполняющие задачу изменения положения рабочего органа (инструмента, схвата, зонда) в лабораторной системе координат.

Обратная задача кинематики, решение которой требуется для управления такими изделиями нелинейна, может иметь множество решений и представлять значительную вычислительную сложность. В связи с этим было разработано множество методов решения обратной задачи кинематики.

При том, что есть огромное количество методов решения этой задачи, наиболее общее, не зависящее от геометрии решение даёт применение матрицы Якоби, описывающей связь положения выходного звена с кинематическими координатами.

Само по себе использование матрицы якоби для расчета управления системой может быть не слишком удобным из-за неинтуитивности частных производных компонент тензора положения. 

В настоящей работе показан метод управления многозвенной кинематической цепью, достаточный для построения на его основе следящих систем, систем линейной интерполяции, а также достаточно простой для реализации в ЦПУ, ПЛИС. 

Следует отметить, что метод не налагает ограничения на класс кинематических пар и, хотя и разрабатывался для кинематических пар пятого класса, может быть применен для управления любой открытой кинематической цепью из простых, а с некоторыми доработками и из сложных звеньев.

\newpage
\section{Объект управления.}

Рассмотрим открытую кинематическую цепь состоящей из простых кинематических звеньев. Свяжем с каждым кинематическим звеном свяжем две локальные системы координат, распожив их в точках сочленения кинематических пар. Таким образом каждое кинематическое звено имеет входную и выходную ЛСК, жестко связанные с ним.

В сочленении кинематической пары также оказывается две системы координат - по одной для каждого звена пары (выходная первого звена и входная второго). Введем кинематические параметры звеньев $q_i$, определяющих взаимное расположение локальных систем координат.

Таким образом кинематическая цепь определяется цепочкой локальных систем координат, положение каждой из которых определяется положением предыдущей и объектом трансформации СК, либо константным, либо завищим от соответствующего кинематического параметра.

Пронумеруем звенья и системы координат. Пусть неподвижное кинематическое звено, жестко связанное с лабораторной системой координат считается 0-ым, лабораторная система координат считается 0-ой СК, пусть входная система каждого $n$-ого звена считается $n$-ой СК. Выходную систему кинематического звена обозначим как $n^*$. 

Если в нашей цепи $m$ звеньев, то СК выходного звена цепи будет $m$-ой системой координат. (рассматривать $m^*$ для выходного звена цепи не имеет особого смысла).

\newpage
\section{Геометрические преобразования. Тензор положения. Тензор скорости.}

Остановимся подробнее на введенном в рассмотрение операторе трансформации систем координат. Этот оператор является тензором гомогенного преобразования, математическое представление которого может быть различным. В частности, для него могут применяться матрицы размерностью 4x4, бикватернионы, комбинация кватерниона поворота и вектора трансляции и т.д. В рамках рассматриваемого метода конкретная форма представления данного оператора взаимозаменяема и определяется исключительно удобством реализации в вычислительной системе. Обозначим этот оператор $H_{ij}$.

Введем в рассмотрение тензор положения СК. Обозначим его P. Тензор положения удобно задавать тем же набором компонент, что и тензор преобразования координат. В такой нотации выражение компонентное тензора $P$ положения взятого в некотором базисе $O$, будет совпадать с компонентным выражением тензора преобразования СК, из $O$ в базис связанный с $P$. 

\begin{equation}
P_j^{(i)} = H_{ij}^{(i)}
\end{equation}

Также введем в рассмотрение производную тензора положения $V$. Также как тензор преобразования системы координат и тензор положения, производная тензора положения является геометрическим объектом и имеет смысл скорости изменения геометрического положения объекта или системы координат.




Точно также, не теряя общности рассуждения можно рассмотреть производную данного тензора. dP/dt








dP\_s
dt   = sum(ddP\_s/dd q\_n dq\_n) 

В силу линейности координатных преобразований. 
ddP\_s / dd q\_n = ddP\_s' / dd q\_n'

 = sum( dd P\_s` / dd P\_n` * dd P\_n` / dd q\_n` * q\_n' )

 Представим тензор P\_n' в векторной форме как пару тензоров (v,w), определяющих линейную и угловую скорости соответствующей СК. При этом выражение 
 dd P\_s` / dd P\_n` примет форму оператора, вычисляющего состовляющую скоростей (v\_s, w\_s), вызванных (v\_n, w\_n). Обозначим этот оператор как R\_s\_n.

(v\_s, w\_s) = sum(  R\_s\_n * dd (v\_n,w\_n) / dd q\_n' * q\_n' )

Заметим, что в базисе n выражение dd (v\_n,w\_n) / dd q\_n' является константой и зависит от геометрии конкретного кинематического звена. Обозначим величину (dd (v\_n,w\_n) / dd q\_n')(n) как W\_n.

Запишем уравнение (* ) в базисе СК x.
(v\_s, w\_s)(x) = sum( H\_x\_n * R\_s\_n(n) * W\_n * q\_n' )
(v\_s, w\_s)(x) = H\_x\_s(x) * sum( H\_s\_n(s) * R\_s\_n(n) * W\_n * q\_n' )
(v\_s, w\_s)(s) = sum( H\_s\_n(s) * R\_s\_n(qn+1..s)(n) * W\_n * q\_n' )


Здесь H\_x\_n - это оператор гомогенного преобразования базиса n в базис x. Для векторных величин (v,w) такое преобразование означает применение вращения без трансляции.

Выражение (* ) является основным соотношением рассматриваемого метода.

Физический смысл его таков: Чтобы 

Обозначим H(i,j) - линейный оператор преобразования j-ой системы координат в i-ую. 

В текущей работе предлагается метод практической реализации алгоритма управления таким изделием.

Таким образом скорость n-ого звена в декартовой системе координат определяется суммой вкладов обобщенных скоростей кинематических коодинат. Вклад конкретной обобщенной скорости явяляется функцией этой скорости и промежуточных обобщенных координат СК (qn', qn+1 ... qs).

Выведенное соотношение соответствует прямой задаче кинематики системы, записанному в дифференциальной форме.

Выражение (* ) можно переписать в виде:
(v\_s, w\_s)(s) = sum( W\_n(q\_n ... q\_s) * k\_n ). Здесь W\_n - имеет смысл 6-вектора компоненты скорости, а k\_n - некий скалярный множитель. Таким образом (v\_s, w\_s) является линейной комбинацией векторов W\_n(q\_n ... q\_s).

Зададимся целью найти набор коэффициентов, соответствующих заданной 6-скорости (v\_s, w\_s). В общем виде задача может иметь одно решение, множество решений или не иметь решений вообще. Можно, однако утверждать, что, если заданный вектор скорости геометрически осмыслен, то задача будет иметь не менее одного решения.

В матричной форме уравнение (* ) может быть записано как:
(v\_s, w\_s) = A * K = (......)

Это уравнение может быть решено методом поиска псевдообратной матрицы, или каким-либо методом линейного программирования. Поскольку задача имеет множество решений, оптимизируемый функционал может быть введен и использован для выбора конкретного решения.

Построение следящей системы. 

На основе соотношения (* ) может быть построена следящая система положения выходного (или любого другого) звена. Для этого следует ввести положение уставки U. Тогда ошибка E системы от текущего положения P будет иметь вид:
E = U * P**-1. 

Выбрав базис (рекомендуется работа в базисе непосредственно связанном с контролируемым звеном), переведем E в 6-вектор (r, rho), где r - вектор трансляции, а rho - вектор поворота. Используем соотношение (* ) вычислим набор компонент k\_i, такой что (v\_s, w\_s) будет коллинеарным (r, rho). Вектор k\_i определен с точностью до множителя. Длина вектора может быть выбрана из физических характеристик системы и условий наложенных на управление. В простейшем случае длина вектора k\_i может линейно зависеть от длины 6-вектора (r\_s, rho\_s), что будет соответствовать апереодическому процессу регулирования.   

Построение массива точек для прохода по алгоритму линейной интерполяции. 

Соотношение (* ) может быть применено для построения массива векторов q\_i, соответствующих выполнению траектории P\_s(t). Для этого следует дискретизировать траекторию P\_s(t\_i) по массиву 0 < t\_i < t. Дискрет может быть выбран из соображений точности траектории и возможностей вычислителя.

Пусть D - тензор перехода между двумя соседними положениями.
D\_s\_s+1 = P\_s+1(q\_i) * P\_s(q\_j)**-1

Вычислим D как 6-вектор (r, rho). Итеративно вычисляя компоненты k\_i для текущего модельного положения используем виртуальную следящую систему, переместим виртуальную модельную систему из положения P\_s в положение P\_s+1. Геометрически это соответствует численному вычислению минимума функции E(q\_i) = U * P**-1, методом градиентного спуска. Так как кинематические уравнения в общем случае нелинейны, метод может иметь недостатончно хорошую сходимость. Сходимость метода тем лучше, чем плотнее взят набор точек P\_s(t\_i).  



\end{document}

